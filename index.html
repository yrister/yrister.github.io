<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	</head>
<body>
	<script>
		var lambda = 600
		var p = 0.02
		var error = 0.001

		for (var i = 1; i < 1000; i++) {
			var r = erlang(lambda, i)

// 			console.log(i, r)
			if (Math.abs(p - r) <= error)
				break
		}


		function erlang(y, v) {
			var p = 0
			for (var i = 1; i <= v; i++) {
				if (i == 1)
					p = y / (1 + y)
				else
					p = y * p / (i + y * p)
			}
			return p
		}
		
		function k(n) {
			var sum = 0
			for (var i = 0; i < n.length; i++) {
				sum += n[i]
			}
			var result = []
			for (var i = 0; i < n.length; i++) {
				result[i] = n[i] / sum
			}
			return result
		}
		console.log(k([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]))
		
		function T(lambda, myu) {
			return 1/myu / (1 - lambda/myu)
		}
		console.log(T(5, 2))
		
		function fac(n) {
			if (n == 1 || n == 0)
				return 1
			if (n < 0)
				return null
			return n * fac(n - 1)
		}
		function erl(v, y) {
			var sum = 0
			for (var i = 0; i <= v; i++)
				sum += Math.pow(y, i) / fac(i)
			return  Math.pow(y, v) / fac(v) / sum
		}
		console.log(erl(10, 4))
		
	</script>
</body>
</html>
